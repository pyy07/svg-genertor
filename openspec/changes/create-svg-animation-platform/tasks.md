## 1. 项目初始化
- [x] 1.1 初始化 Next.js 项目（使用 TypeScript）
- [x] 1.2 配置 ESLint 和 Prettier
- [ ] 1.3 设置 Git 仓库并推送到 GitHub
- [ ] 1.4 配置 Vercel 项目并连接 GitHub 仓库

## 2. 数据库和存储
- [ ] 2.1 选择并配置数据库（Vercel Postgres 或 Supabase）
- [x] 2.2 创建数据库 schema（用户表、素材表，用户表包含使用次数和永久用户标记）
- [x] 2.3 实现数据库连接和 ORM 配置（Prisma 或 Drizzle）

## 3. 用户使用次数限制系统
- [x] 3.1 实现用户模型（包含使用次数字段和永久用户标记）
- [x] 3.2 实现用户使用次数检查和更新逻辑
- [x] 3.3 实现用户认证中间件/保护路由
- [x] 3.4 创建用户管理界面（管理员使用，可查看和修改用户使用次数）
- [x] 3.5 实现永久用户设置功能

## 4. Gemini API 集成
- [x] 4.1 配置 Google AI Studio API key
- [x] 4.2 实现 Gemini 3.0 API 调用封装
- [x] 4.3 设计 prompt 模板，将用户输入转换为 SVG 代码
- [x] 4.4 实现错误处理和重试机制

## 5. SVG 生成功能
- [x] 5.1 创建 SVG 生成 API 路由（需要用户登录，检查使用次数）
- [x] 5.2 实现前端输入界面（显示用户剩余使用次数）
- [x] 5.3 实现 SVG 预览和渲染组件
- [x] 5.4 添加加载状态和错误提示（包括使用次数超限提示）

## 6. 素材存储
- [x] 6.1 实现素材保存功能（保存到数据库）
- [x] 6.2 创建素材列表页面
- [x] 6.3 实现素材详情查看页面
- [x] 6.4 添加素材元数据（生成时间、用户等）

## 7. 微信登录
- [ ] 7.1 注册微信开放平台账号
- [ ] 7.2 配置微信 OAuth 应用
- [x] 7.3 实现微信登录 API 路由（创建用户时初始化使用次数为 0）
- [x] 7.4 实现微信登录前端组件
- [x] 7.5 实现用户会话管理

## 8. 用户关联
- [x] 8.1 将素材与微信用户关联
- [x] 8.2 实现用户个人素材库
- [x] 8.3 添加用户信息展示

## 9. 测试和优化
- [ ] 9.1 编写单元测试（API 路由）
- [ ] 9.2 编写集成测试（完整流程）
- [ ] 9.3 性能优化（API 调用缓存、数据库查询优化）
- [ ] 9.4 添加错误日志和监控

## 10. 部署和文档
- [ ] 10.1 配置生产环境变量
- [ ] 10.2 部署到 Vercel 并验证
- [ ] 10.3 编写 README 文档
- [ ] 10.4 编写 API 文档（如需要）

